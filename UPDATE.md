优化了异常处理